#+TITLE: Org Mode Cheat Sheet
#+AUTHOR: Will Medrano
#+HUGO_BASE_DIR: ./..
#+DATE: 2023-05-21
#+FILETAGS: emacs literate-programming cheat-sheet

* TLDR
:PROPERTIES:
:CUSTOM_ID: TLDR-szbezj301uj0
:END:

A reference of useful Org Mode (with a focus on literate programming)
functionality.

For a more official reference on Org Babel for literate programming, see
[[https://orgmode.org/worg/org-contrib/babel/intro.html][Introducing Babel]].

** General Default Key Bindings
:PROPERTIES:
:CUSTOM_ID: KeyBindingsGeneralDefaults-atgfelb01uj0
:END:

The following keybindings are set up by default.

| key     | function            | description                                                                                |
|---------+---------------------+--------------------------------------------------------------------------------------------|
| C-c C-l | ~org-insert-link~   | Insert a link. Prompts for the URI and then a description. Links can be to HTML or images. |
| C-c C-o | ~org-open-at-point~ | Open link, timestamp, footnote, or tag at point. Links are opened in the browser.          |

** Text Blocks
:PROPERTIES:
:CUSTOM_ID: TLDRTextBlocks-pszkznb01uj0
:END:

| key     | function            | description                                                                                                                                                     |
| C-c C-' | ~org-edit-special~  | Does several things depending on what's at the point. Calls ~org-edit-src-code~ when over a source code block. This opens a new buffer to edit the source code. |
| C-c C-c | ~org-ctrl-c-ctrl-c~ | Does several things depending on what's at the piont. Calls ~org-confirm-babel-evaluate~ when over a source code block. This runs the code at the block.        |

** Programming
:PROPERTIES:
:CUSTOM_ID: TLDRProgramming-4rdc14n0duj0
:END:

*** Async Evaluation
:PROPERTIES:
:CUSTOM_ID: TLDRProgrammingAsyncEvaluation-p1fc14n0duj0
:END:

Asynchronous evaluation is provided by the ~ob-async~ package. It must be loaded
with ~(require 'ob-async)~. After loading, a block may be executed
asynchronously with the following header:

#+begin_src org
,#+begin_src python :async
return 2 + 2
,#+end_src
#+end_src

*** Python
:PROPERTIES:
:CUSTOM_ID: TLDRPiChart-cdb7van01uj0
:END:

**** Charts with Matplotlib
:PROPERTIES:
:CUSTOM_ID: TLDRPythonChartswithMatplotlib-te5f4vn01uj0
:END:

To create a chart with Matplotlib:

1. Set the ~:results~ to ~file~ and ~:exports~ to ~results~ to show the image or
   ~values~ to show the image and the code block.
2. Save the figure to a file.
3. Return the name of the file.

#+begin_src org
#+begin_src python :results file :exports results
  import matplotlib.pyplot as plt
  plt.pie([30, 40, 30])
  fname = '/org-mode-cheat-sheet/pie.png'
  plt.savefig(fname)
  return fname
,#+end_src
#+end_src

#+begin_src python :results file :exports results
  import matplotlib.pyplot as plt
  plt.title('My Pie Chart')
  plt.pie([30, 40, 30])
  fname = 'org-mode-cheat-sheet-pie.png'
  plt.savefig(fname, transparent=True)
  return fname
#+end_src

#+RESULTS:
[[file:org-mode-cheat-sheet-pie.png]]
