+++
title = "Trying GitLab"
author = ["Will Medrano"]
date = 2023-12-08
tags = ["gitlab"]
draft = false
+++

## GitLab {#GitLab-y40jbv60i1k0}

I switched the Bats project over from GitHub onto Gitlab. There was no real reason besides trying out GitLab (again). Compared to GitHub, I noticed a few changes.


### UX {#GitLabUX-tp6irt60i1k0}

GitHub is more responsive. GitLab seems a bit sluggish to me. I searched to see if anyone else noticed, but it seems like I'm the only one that notices or cares.

As far as the UI goes, I do slightly prefer GitLab. Although both UIs get the job done, I like GitLab's side bar for the repo once I get used to it. It does take a while to get used to though as there are many options, although I only use a few tabs. The code review seems very similar with GitLab having a few more integrations.

{{< figure src="/ox-hugo/wmedrano-dev/trying-gitlab-sidebar.png" >}}


### CI/CD Pipelines {#GitLabCICDPipelines-mz8irt60i1k0}

GitHub Actions has a larger community of reusable steps that can publish artifacts and post comments on the PR. GitLab is a bit more manual. This comes out simpler at the cost of not having reusable actions like GitHub. I do actually prefer the GitLab method as many GitHub Actions just seem like magic to me. I prefer to know what is happening, especially if it isn't too complicated.

GitLab allows building custom reports/annotations. GitHub allows posting most things as comments, but more complex stuff needs a place to be hosted. An example of this is code coverage. GitHub can post a comment on the code coverage, but if you want a fancy HTML report, then you must upload to a third party service. In GitLab I found 3 convinient ways to integrate code coverage within GitHub itself:

-   An annotation on merge requests measuring the code coverage produced by `cargo llvm-cov`.
-   Lines are highlighted based on code coverage at code review time. This is provided by producing a `cobertura-coverage` XML file and reporting it to GitLab.
-   Providing the HTML files generated by `cargo llvm-cov` as an artifact. GitLab allows browsing HTML artifacts almost like websites. GitHub seems to be missing this feature. GitHub HTML artifacts must be manually downloaded and opened in a browser. See the corresponding [GitHub actions feature request](https://github.com/actions/upload-artifact/issues/14).

In addition to the code coverage integration, I use the following GitLab integrations:

-   Benchmark reports as an HTML artifact.
-   Unit tests are reported in GitLab UI. This reports all the unit tests, their results, and how long it took to run.

{{< figure src="/ox-hugo/wmedrano-dev/trying-gitlab-mr.png" >}}


### Community and Discoverability {#GitLabCommunityandDiscoverability-msairt60i1k0}

The biggest reason that I'll ultimately switch back to GitHub for open source is the community. GitHub really is the place where most devs are. Go to a conference and a a dev profile and expect to see a link to GitHub and/or Twitter. GitLab representation is more sparse. I don't see this changing in the future. GitHub puts in effort to be a sort of social media for developers, but GitLab is very much about enterprise use cases. Visit the GitLab website and you will encounter marketing for why your enterprise should use GitLab. Inspect the pricing plans and its obvious that this is not meant for a solo developer.

![](/ox-hugo/wmedrano-dev/trying-gitlab-marketing-1.png)
![](/ox-hugo/wmedrano-dev/trying-gitlab-marketing-2.png)

With this focus on enterprise, are their features that GitLab is missing for solo devs? Well, I actually didn't notice any shortcomings. There are no benefits for me to go above the non-free account. If at some point I need to scale up the CI/CD compute, I would pay just for more GitLab runners compute. The same is true for GitHub where I'm on a free account.


### Conclusion {#GitLabConclusion-jmq50880i1k0}

Overall my GitLab experience has been good. I learned a few things and implemented some fancy integrations. Due to GitHub's seemingly larger open source community I will likely try to at least mirror projects onto GitHub and use GitHub for anything where I expect more contributors in addition to myself.
